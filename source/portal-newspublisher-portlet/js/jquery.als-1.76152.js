(function(f){var g=[],a=0;var c={init:function(h){this.each(function(){var n={visible_items:3,scrolling_items:1,orientation:"horizontal",circular:"no",autoscroll:"no",interval:4000,speed:600,easing:"swing",direction:"left",start_from:0},F=f(this),I=F.data("als"),w=f(),k=f(),z=f(),l=f(),C=f(),D=f(),p=0,E=0,G=0,J=0,m=0,v=0,u=0,B=0,y=0,x=0,t=0,o=0,A={};A.swipeTreshold=100,A.allowedTime=300;w=f.extend(n,h);if(w.circular=="no"&&w.autoscroll=="yes"){w.circular="yes"}if(w.easing!="linear"||w.easing!="swing"){w.easing="swing"}if(!F.attr("id")||F.attr("id")==""){F.attr("id","als-container_"+a)}F.attr("data-id","als-container_"+a);l=F.find(".als-viewport").attr("data-id","als-viewport_"+a);z=F.find(".als-wrapper").attr("data-id","als-wrapper_"+a);k=F.find(".als-item");p=k.size();if(w.visible_items>p){w.visible_items=p-1}if(w.scrolling_items>w.visible_items){if(w.visible_items>1){w.scrolling_items=w.visible_items-1}else{if(w.visible_items===1){w.scrolling_items=w.visible_items}}}if(w.start_from>p-w.visible_items){w.start_from=0}C=F.find(".als-prev").attr("data-id","als-prev_"+a);D=F.find(".als-next").attr("data-id","als-next_"+a);switch(w.orientation){case"horizontal":default:k.each(function(i){f(this).attr("id","als-item_"+a+"_"+i);G+=f(this).outerWidth(true);if(f(this).outerHeight(true)>u){u=f(this).outerHeight(true)}if(y<w.visible_items){if(w.start_from==0){E+=f(this).outerWidth(true);y++}else{if(i>=w.start_from){E+=f(this).outerWidth(true);y++}}}if(w.start_from!=0){if(x<w.start_from){v+=f(this).outerWidth(true);x++}t=w.start_from}});z.css("width",G);k.css("left",-v);l.css("width",E);z.css("height",u);l.css("height",u);if(w.circular=="yes"&&w.start_from!=0){for(r=0;r<w.start_from;r++){var H=k.last().position(),s=H.left+k.last().outerWidth(true);k.eq(r).css("left",s)}}break;case"vertical":k.each(function(i){f(this).attr("id","als-item_"+a+"_"+i);m+=f(this).outerHeight(true);if(f(this).outerWidth(true)>B){B=f(this).outerWidth(true)}if(y<w.visible_items){if(w.start_from==0){J+=f(this).outerHeight(true);y++}else{if(i>=w.start_from){J+=f(this).outerHeight(true);y++}}}if(w.start_from!=0){if(x<w.start_from){v+=f(this).outerHeight(true);x++}t=w.start_from}});z.css("height",m);k.css("top",-v);l.css("height",J);z.css("width",B);l.css("width",B);if(w.circular=="yes"&&w.start_from!=0){for(r=0;r<w.start_from;r++){var H=k.last().position(),q=H.top+k.last().outerHeight(true);k.eq(r).css("top",q)}}break}if(w.circular=="no"){if(w.start_from==0){C.css("display","none")}if(w.visible_items+w.start_from==p){D.css("display","none")}}D.on("click touchstart touchend",b);C.on("click touchstart touchend",e);l.on("touchstart",function(i){if(i.originalEvent.touches==undefined){var j=i}else{var j=i.originalEvent.touches[0]||i.originalEvent.changedTouches[0]}A.ox=j.pageX;A.oy=j.pageY;A.startTime=new Date().getTime()});l.on("touchmove",function(i){});l.on("touchend",function(i){if(i.originalEvent.touches==undefined){var j=i}else{var j=i.originalEvent.touches[0]||i.originalEvent.changedTouches[0]}A.dx=j.pageX-A.ox;A.dy=j.pageY-A.oy;A.endTime=new Date().getTime()-A.startTime;if(w.orientation=="horizontal"){if(A.dx<-A.swipeTreshold&&A.endTime<A.allowedTime){if(w.circular=="yes"||w.visible_items+w.start_from<p){b(i,l)}}else{if(A.dx>A.swipeTreshold&&A.endTime<A.allowedTime){if(w.circular=="yes"||w.start_from>0){e(i,l)}}}}else{if(A.dy<-A.swipeTreshold&&A.endTime<A.allowedTime){if(w.circular=="yes"||w.visible_items+w.start_from<p){b(i,l)}}else{if(A.dy>A.swipeTreshold&&A.endTime<A.allowedTime){if(w.circular=="yes"||w.start_from>0){e(i,l)}}}}});F.data("als",{container:F,instance:a,options:w,viewport:l,wrapper:z,prev:C,next:D,item:k,num_items:p,wrapper_width:G,viewport_width:E,wrapper_height:m,viewport_height:J,current:t,timer:o,mm:A});I=F.data("als");g[a]=I;if(w.autoscroll=="yes"){f.fn.als("start",a);z.hover(function(){f.fn.als("stop",f(this).attr("data-id"))},function(){f.fn.als("start",f(this).attr("data-id"))})}else{if(w.autoscroll=="no"){f.fn.als("stop",a)}}a++;return g})},next:function(i){i=d(i);var m=g[i],l=m.mm,s=0,p=0;switch(m.options.orientation){case"horizontal":default:var k=0,q=0;switch(m.options.circular){case"no":default:for(s=m.current;s<m.current+m.options.scrolling_items;s++){k+=m.item.eq(s).outerWidth(true)}m.current+=m.options.scrolling_items;for(p=m.current;p<m.current+m.options.visible_items;p++){q+=m.item.eq(p).outerWidth(true)}m.viewport.animate({width:q},m.options.speed,m.options.easing);m.item.animate({left:"-="+k},m.options.speed,m.options.easing);m.item.promise().done(function(){m.next.on("click touchstart touchend",b);m.prev.on("click touchstart touchend",e);m.viewport.on("touchend",function(v){if(v.originalEvent.touches==undefined){var w=v}else{var w=v.originalEvent.touches[0]||v.originalEvent.changedTouches[0]}l.dx=w.pageX-l.ox;l.dy=w.pageY-l.oy;l.endTime=new Date().getTime()-l.startTime;if(m.options.orientation=="horizontal"){if(l.dx<-l.swipeTreshold&&l.endTime<l.allowedTime){if(m.current+m.options.visible_items<m.num_items){b(v,m.viewport)}}else{if(l.dx>l.swipeTreshold&&l.endTime<l.allowedTime){if(m.current>0){e(v,m.viewport)}}}}else{if(l.dy<-l.swipeTreshold&&l.endTime<l.allowedTime){if(m.current+m.options.visible_items<m.num_items){b(v,m.viewport)}}else{if(l.dy>l.swipeTreshold&&l.endTime<l.allowedTime){if(m.current>0){e(v,m.viewport)}}}}})});if(m.current>0){m.prev.show()}if(m.current+m.options.visible_items>=m.num_items){m.next.hide()}break;case"yes":var u=0,t=[];for(s=m.current;s<m.current+m.options.scrolling_items;s++){var o=s;if(s>=m.num_items){o=s-m.num_items}k+=m.item.eq(o).outerWidth(true);t[u]=o;u++}m.current+=m.options.scrolling_items;if(m.current>=m.num_items){m.current-=m.num_items}for(p=m.current;p<m.current+m.options.visible_items;p++){var n=p;if(p>=m.num_items){n=p-m.num_items}q+=m.item.eq(n).outerWidth(true)}m.viewport.animate({width:q},m.options.speed,m.options.easing);m.item.animate({left:"-="+k},m.options.speed,m.options.easing);m.item.promise().done(function(){var v=m.item.last().position(),w=v.left+m.item.last().outerWidth(true);for(k5=0;k5<t.length;k5++){if(t[k5]==0){var v=m.item.last().position(),w=v.left+m.item.last().outerWidth(true)}m.item.eq(t[k5]).css("left",w)}m.next.on("click touchstart touchend",b);m.prev.on("click touchstart touchend",e);m.viewport.on("touchend",function(x){if(x.originalEvent.touches==undefined){var y=x}else{var y=x.originalEvent.touches[0]||x.originalEvent.changedTouches[0]}l.dx=y.pageX-l.ox;l.dy=y.pageY-l.oy;l.endTime=new Date().getTime()-l.startTime;if(m.options.orientation=="horizontal"){if(l.dx<-l.swipeTreshold&&l.endTime<l.allowedTime){b(x,m.viewport)}else{if(l.dx>l.swipeTreshold&&l.endTime<l.allowedTime){e(x,m.viewport)}}}else{if(l.dy<-l.swipeTreshold&&l.endTime<l.allowedTime){b(x,m.viewport)}else{if(l.dy>l.swipeTreshold&&l.endTime<l.allowedTime){e(x,m.viewport)}}}})});break}break;case"vertical":var j=0,h=0;switch(m.options.circular){case"no":default:for(s=m.current;s<m.current+m.options.scrolling_items;s++){j+=m.item.eq(s).outerHeight(true)}m.current+=m.options.scrolling_items;for(p=m.current;p<m.current+m.options.visible_items;p++){h+=m.item.eq(p).outerHeight(true)}m.viewport.animate({height:h},m.options.speed,m.options.easing);m.item.animate({top:"-="+j},m.options.speed,m.options.easing);m.item.promise().done(function(){m.next.on("click touchstart touchend",b);m.prev.on("click touchstart touchend",e);m.viewport.on("touchend",function(v){if(v.originalEvent.touches==undefined){var w=v}else{var w=v.originalEvent.touches[0]||v.originalEvent.changedTouches[0]}l.dx=w.pageX-l.ox;l.dy=w.pageY-l.oy;l.endTime=new Date().getTime()-l.startTime;if(m.options.orientation=="horizontal"){if(l.dx<-l.swipeTreshold&&l.endTime<l.allowedTime){if(m.current+m.options.visible_items<m.num_items){b(v,m.viewport)}}else{if(l.dx>l.swipeTreshold&&l.endTime<l.allowedTime){if(m.current>0){e(v,m.viewport)}}}}else{if(l.dy<-l.swipeTreshold&&l.endTime<l.allowedTime){if(m.current+m.options.visible_items<m.num_items){b(v,m.viewport)}}else{if(l.dy>l.swipeTreshold&&l.endTime<l.allowedTime){if(m.current>0){e(v,m.viewport)}}}}})});if(m.current>0){m.prev.show()}if(m.current+m.options.visible_items>=m.num_items){m.next.hide()}break;case"yes":var u=0,t=[];for(s=m.current;s<m.current+m.options.scrolling_items;s++){var o=s;if(s>=m.num_items){o=s-m.num_items}j+=m.item.eq(o).outerHeight(true);t[u]=o;u++}m.current+=m.options.scrolling_items;if(m.current>=m.num_items){m.current-=m.num_items}for(p=m.current;p<m.current+m.options.visible_items;p++){var n=p;if(p>=m.num_items){n=p-m.num_items}h+=m.item.eq(n).outerHeight(true)}m.viewport.animate({height:h});m.item.animate({top:"-="+j});m.item.promise().done(function(){var w=m.item.last().position(),v=w.top+m.item.last().outerHeight(true);for(k5=0;k5<t.length;k5++){if(t[k5]==0){var w=m.item.last().position(),v=w.top+m.item.last().outerHeight(true)}m.item.eq(t[k5]).css("top",v)}m.next.on("click touchstart touchend",b);m.prev.on("click touchstart touchend",e);m.viewport.on("touchend",function(x){if(x.originalEvent.touches==undefined){var y=x}else{var y=x.originalEvent.touches[0]||x.originalEvent.changedTouches[0]}l.dx=y.pageX-l.ox;l.dy=y.pageY-l.oy;l.endTime=new Date().getTime()-l.startTime;if(m.options.orientation=="horizontal"){if(l.dx<-l.swipeTreshold&&l.endTime<l.allowedTime){b(x,m.viewport)}else{if(l.dx>l.swipeTreshold&&l.endTime<l.allowedTime){e(x,m.viewport)}}}else{if(l.dy<-l.swipeTreshold&&l.endTime<l.allowedTime){b(x,m.viewport)}else{if(l.dy>l.swipeTreshold&&l.endTime<l.allowedTime){e(x,m.viewport)}}}})});break}break}g[i]=m;return g},prev:function(o){o=d(o);var z=g[o],q=z.mm,m=0,l=0;switch(z.options.orientation){case"horizontal":default:var h=0,w=0;switch(z.options.circular){case"no":default:z.current-=z.options.scrolling_items;for(m=z.current;m<z.current+z.options.scrolling_items;m++){h+=z.item.eq(m).outerWidth(true)}for(l=z.current;l<z.current+z.options.visible_items;l++){w+=z.item.eq(l).outerWidth(true)}z.viewport.animate({width:w});z.item.animate({left:"+="+h},z.options.speed,z.options.easing);z.item.promise().done(function(){z.next.on("click touchstart touchend",b);z.prev.on("click touchstart touchend",e);z.viewport.on("touchend",function(B){if(B.originalEvent.touches==undefined){var C=B}else{var C=B.originalEvent.touches[0]||B.originalEvent.changedTouches[0]}q.dx=C.pageX-q.ox;q.dy=C.pageY-q.oy;q.endTime=new Date().getTime()-q.startTime;if(z.options.orientation=="horizontal"){if(q.dx<-q.swipeTreshold&&q.endTime<q.allowedTime){if(z.current+z.options.visible_items<z.num_items){b(B,z.viewport)}}else{if(q.dx>q.swipeTreshold&&q.endTime<q.allowedTime){if(z.current>0){e(B,z.viewport)}}}}else{if(q.dy<-q.swipeTreshold&&q.endTime<q.allowedTime){if(z.current+z.options.visible_items<z.num_items){b(B,z.viewport)}}else{if(q.dy>q.swipeTreshold&&q.endTime<q.allowedTime){if(z.current>0){e(B,z.viewport)}}}}})});if(z.current<=0){z.prev.hide()}if(z.current+z.options.visible_items<z.num_items){z.next.show()}break;case"yes":var u=0,v=[];z.current-=z.options.scrolling_items;if(z.current<0){z.current+=z.num_items}for(m=z.current;m<z.current+z.options.scrolling_items;m++){var k=m;if(m>=z.num_items){k=m-z.num_items}h+=z.item.eq(k).outerWidth(true);v[u]=k;u++}for(l=z.current;l<z.current+z.options.visible_items;l++){var j=l;if(l>=z.num_items){j=l-z.num_items}w+=z.item.eq(j).outerWidth(true)}var y=z.item.first().position(),x=y.left-z.wrapper_width;for(k5=0;k5<v.length;k5++){z.item.eq(v[k5]).css("left",x);if(v[k5]==0){var s=z.item.eq(0).position(),t=s.left-z.wrapper_width;for(k6=0;k6<k5;k6++){z.item.eq(v[k6]).css("left",t)}}}setTimeout(function(){z.viewport.animate({width:w});z.item.animate({left:"+="+h},z.options.speed,z.options.easing);z.item.promise().done(function(){z.next.on("click touchstart touchend",b);z.prev.on("click touchstart touchend",e);z.viewport.on("touchend",function(B){if(B.originalEvent.touches==undefined){var C=B}else{var C=B.originalEvent.touches[0]||B.originalEvent.changedTouches[0]}q.dx=C.pageX-q.ox;q.dy=C.pageY-q.oy;q.endTime=new Date().getTime()-q.startTime;if(z.options.orientation=="horizontal"){if(q.dx<-q.swipeTreshold&&q.endTime<q.allowedTime){b(B,z.viewport)}else{if(q.dx>q.swipeTreshold&&q.endTime<q.allowedTime){e(B,z.viewport)}}}else{if(q.dy<-q.swipeTreshold&&q.endTime<q.allowedTime){b(B,z.viewport)}else{if(q.dy>q.swipeTreshold&&q.endTime<q.allowedTime){e(B,z.viewport)}}}})})},200);break}break;case"vertical":var n=0,A=0;switch(z.options.circular){case"no":default:z.current-=z.options.scrolling_items;for(m=z.current;m<z.current+z.options.scrolling_items;m++){n+=z.item.eq(m).outerHeight(true)}for(l=z.current;l<z.current+z.options.visible_items;l++){A+=z.item.eq(l).outerHeight(true)}z.viewport.animate({height:A});z.item.animate({top:"+="+n},z.options.speed,z.options.easing);z.item.promise().done(function(){z.next.on("click touchstart touchend",b);z.prev.on("click touchstart touchend",e);z.viewport.on("touchend",function(B){if(B.originalEvent.touches==undefined){var C=B}else{var C=B.originalEvent.touches[0]||B.originalEvent.changedTouches[0]}q.dx=C.pageX-q.ox;q.dy=C.pageY-q.oy;q.endTime=new Date().getTime()-q.startTime;if(z.options.orientation=="horizontal"){if(q.dx<-q.swipeTreshold&&q.endTime<q.allowedTime){if(z.current+z.options.visible_items<z.num_items){b(B,z.viewport)}}else{if(q.dx>q.swipeTreshold&&q.endTime<q.allowedTime){if(z.current>0){e(B,z.viewport)}}}}else{if(q.dy<-q.swipeTreshold&&q.endTime<q.allowedTime){if(z.current+z.options.visible_items<z.num_items){b(B,z.viewport)}}else{if(q.dy>q.swipeTreshold&&q.endTime<q.allowedTime){if(z.current>0){e(B,z.viewport)}}}}})});if(z.current<=0){z.prev.hide()}if(z.current+z.options.visible_items<z.num_items){z.next.show()}break;case"yes":var u=0,v=[];z.current-=z.options.scrolling_items;if(z.current<0){z.current+=z.num_items}for(m=z.current;m<z.current+z.options.scrolling_items;m++){var k=m;if(m>=z.num_items){k=m-z.num_items}n+=z.item.eq(k).outerHeight(true);v[u]=k;u++}for(l=z.current;l<z.current+z.options.visible_items;l++){var j=l;if(l>=z.num_items){j=l-z.num_items}A+=z.item.eq(j).outerHeight(true)}var y=z.item.first().position(),i=y.top-z.wrapper_height;for(k5=0;k5<v.length;k5++){z.item.eq(v[k5]).css("top",i);if(v[k5]==0){var s=z.item.eq(0).position(),p=s.top-z.wrapper_height;for(k6=0;k6<k5;k6++){z.item.eq(v[k6]).css("top",p)}}}setTimeout(function(){z.viewport.animate({height:A},z.options.speed,z.options.easing);z.item.animate({top:"+="+n},z.options.speed,z.options.easing);z.item.promise().done(function(){z.next.on("click touchstart touchend",b);z.prev.on("click touchstart touchend",e);z.viewport.on("touchend",function(B){if(B.originalEvent.touches==undefined){var C=B}else{var C=B.originalEvent.touches[0]||B.originalEvent.changedTouches[0]}q.dx=C.pageX-q.ox;q.dy=C.pageY-q.oy;q.endTime=new Date().getTime()-q.startTime;if(z.options.orientation=="horizontal"){if(q.dx<-q.swipeTreshold&&q.endTime<q.allowedTime){b(B,z.viewport)}else{if(q.dx>q.swipeTreshold&&q.endTime<q.allowedTime){e(B,z.viewport)}}}else{if(q.dy<-q.swipeTreshold&&q.endTime<q.allowedTime){b(B,z.viewport)}else{if(q.dy>q.swipeTreshold&&q.endTime<q.allowedTime){e(B,z.viewport)}}}})})},200);break}break}g[o]=z;return g},start:function(i){i=d(i);var h=g[i];if(h.timer!=0){clearInterval(h.timer)}switch(h.options.direction){case"left":case"up":default:h.timer=setInterval(function(){h.next.off();h.prev.off();h.viewport.off("touchend");f.fn.als("next",i)},h.options.interval);break;case"right":case"down":h.timer=setInterval(function(){h.prev.off();h.next.off();h.viewport.off("touchend");f.fn.als("prev",i)},h.options.interval);break}g[i]=h;return g},stop:function(i){i=d(i);var h=g[i];clearInterval(h.timer);g[i]=h;return g},destroy:function(){id=d(f(this).attr("data-id"));var h=g[id];h.prev.off();h.next.off();h.viewport.off();f.fn.als("stop",id);f.removeData(h,"als");this.unbind();this.element=null}};function d(i){if(typeof(i)==="string"){var h=i.indexOf("_");if(h!=-1){i=i.substr(h+1)}}return i}function b(i,k){i.preventDefault();if(k===undefined){k=f(this)}var j=d(k.attr("data-id")),h=g[j];h.next.off();h.prev.off();h.viewport.off("touchend");if(h.options.autoscroll==="yes"){f.fn.als("stop",j)}f.fn.als("next",j);if(h.options.autoscroll==="yes"){f.fn.als("start",j)}}function e(i,k){i.preventDefault();if(k===undefined){k=f(this)}var j=d(k.attr("data-id")),h=g[j];h.prev.off();h.next.off();h.viewport.off("touchend");if(h.options.autoscroll==="yes"){f.fn.als("stop",j)}f.fn.als("prev",j);if(h.options.autoscroll==="yes"){f.fn.als("start",j)}}f.fn.als=function(h){if(c[h]){return c[h].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof h==="object"||!h){return c.init.apply(this,arguments)}else{f.error("Method "+h+" does not exist on jQuery.als")}}}})(jQuery);