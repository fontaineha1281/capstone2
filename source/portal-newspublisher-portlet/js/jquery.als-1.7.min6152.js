!function(g){function d(i){if("string"==typeof i){var a=i.indexOf("_");-1!=a&&(i=i.substr(a+1))}return i}function c(a,l){a.preventDefault(),void 0===l&&(l=g(this));var k=d(l.attr("data-id")),e=j[k];e.next.off(),e.prev.off(),e.viewport.off("touchend"),"yes"===e.options.autoscroll&&g.fn.als("stop",k),g.fn.als("next",k),"yes"===e.options.autoscroll&&g.fn.als("start",k)}function h(a,l){a.preventDefault(),void 0===l&&(l=g(this));var k=d(l.attr("data-id")),e=j[k];e.prev.off(),e.next.off(),e.viewport.off("touchend"),"yes"===e.options.autoscroll&&g.fn.als("stop",k),g.fn.als("prev",k),"yes"===e.options.autoscroll&&g.fn.als("start",k)}var j=[],f=0,b={init:function(a){this.each(function(){var V={visible_items:3,scrolling_items:1,orientation:"horizontal",circular:"no",autoscroll:"no",interval:4000,speed:600,easing:"swing",direction:"left",start_from:0},M=g(this),S=M.data("als"),L=g(),R=g(),F=g(),K=g(),O=g(),C=g(),Q=0,B=0,n=0,P=0,Y=0,s=0,t=0,N=0,U=0,G=0,J=0,A=0,i={};switch(i.swipeTreshold=100,i.allowedTime=300,L=g.extend(V,a),"no"==L.circular&&"yes"==L.autoscroll&&(L.circular="yes"),("linear"!=L.easing||"swing"!=L.easing)&&(L.easing="swing"),M.attr("id")&&""!=M.attr("id")||M.attr("id","als-container_"+f),M.attr("data-id","als-container_"+f),K=M.find(".als-viewport").attr("data-id","als-viewport_"+f),F=M.find(".als-wrapper").attr("data-id","als-wrapper_"+f),R=M.find(".als-item"),Q=R.size(),L.visible_items>Q&&(L.visible_items=Q-1),L.scrolling_items>L.visible_items&&(L.visible_items>1?L.scrolling_items=L.visible_items-1:1===L.visible_items&&(L.scrolling_items=L.visible_items)),L.start_from>Q-L.visible_items&&(L.start_from=0),O=M.find(".als-prev").attr("data-id","als-prev_"+f),C=M.find(".als-next").attr("data-id","als-next_"+f),L.orientation){case"horizontal":default:if(R.each(function(k){g(this).attr("id","als-item_"+f+"_"+k),n+=g(this).outerWidth(!0),g(this).outerHeight(!0)>t&&(t=g(this).outerHeight(!0)),U<L.visible_items&&(0==L.start_from?(B+=g(this).outerWidth(!0),U++):k>=L.start_from&&(B+=g(this).outerWidth(!0),U++)),0!=L.start_from&&(G<L.start_from&&(s+=g(this).outerWidth(!0),G++),J=L.start_from)}),F.css("width",n),R.css("left",-s),K.css("width",B),F.css("height",t),K.css("height",t),"yes"==L.circular&&0!=L.start_from){for(r=0;r<L.start_from;r++){var o=R.last().position(),I=o.left+R.last().outerWidth(!0);R.eq(r).css("left",I)}}break;case"vertical":if(R.each(function(k){g(this).attr("id","als-item_"+f+"_"+k),Y+=g(this).outerHeight(!0),g(this).outerWidth(!0)>N&&(N=g(this).outerWidth(!0)),U<L.visible_items&&(0==L.start_from?(P+=g(this).outerHeight(!0),U++):k>=L.start_from&&(P+=g(this).outerHeight(!0),U++)),0!=L.start_from&&(G<L.start_from&&(s+=g(this).outerHeight(!0),G++),J=L.start_from)}),F.css("height",Y),R.css("top",-s),K.css("height",P),F.css("width",N),K.css("width",N),"yes"==L.circular&&0!=L.start_from){for(r=0;r<L.start_from;r++){var o=R.last().position(),e=o.top+R.last().outerHeight(!0);R.eq(r).css("top",e)}}}return"no"==L.circular&&(0==L.start_from&&O.css("display","none"),L.visible_items+L.start_from==Q&&C.css("display","none")),C.on("click touchstart touchend",c),O.on("click touchstart touchend",h),K.on("touchstart",function(l){if(void 0==l.originalEvent.touches){var k=l}else{var k=l.originalEvent.touches[0]||l.originalEvent.changedTouches[0]}i.ox=k.pageX,i.oy=k.pageY,i.startTime=(new Date).getTime()}),K.on("touchmove",function(){}),K.on("touchend",function(l){if(void 0==l.originalEvent.touches){var k=l}else{var k=l.originalEvent.touches[0]||l.originalEvent.changedTouches[0]}i.dx=k.pageX-i.ox,i.dy=k.pageY-i.oy,i.endTime=(new Date).getTime()-i.startTime,"horizontal"==L.orientation?i.dx<-i.swipeTreshold&&i.endTime<i.allowedTime?("yes"==L.circular||L.visible_items+L.start_from<Q)&&c(l,K):i.dx>i.swipeTreshold&&i.endTime<i.allowedTime&&("yes"==L.circular||L.start_from>0)&&h(l,K):i.dy<-i.swipeTreshold&&i.endTime<i.allowedTime?("yes"==L.circular||L.visible_items+L.start_from<Q)&&c(l,K):i.dy>i.swipeTreshold&&i.endTime<i.allowedTime&&("yes"==L.circular||L.start_from>0)&&h(l,K)}),M.data("als",{container:M,instance:f,options:L,viewport:K,wrapper:F,prev:O,next:C,item:R,num_items:Q,wrapper_width:n,viewport_width:B,wrapper_height:Y,viewport_height:P,current:J,timer:A,mm:i}),S=M.data("als"),j[f]=S,"yes"==L.autoscroll?(g.fn.als("start",f),F.hover(function(){g.fn.als("stop",g(this).attr("data-id"))},function(){g.fn.als("start",g(this).attr("data-id"))})):"no"==L.autoscroll&&g.fn.als("stop",f),f++,j})},next:function(w){w=d(w);var i=j[w],C=i.mm,z=0,o=0;switch(i.options.orientation){case"horizontal":default:var y=0,n=0;switch(i.options.circular){case"no":default:for(z=i.current;z<i.current+i.options.scrolling_items;z++){y+=i.item.eq(z).outerWidth(!0)}for(i.current+=i.options.scrolling_items,o=i.current;o<i.current+i.options.visible_items;o++){n+=i.item.eq(o).outerWidth(!0)}i.viewport.animate({width:n},i.options.speed,i.options.easing),i.item.animate({left:"-="+y},i.options.speed,i.options.easing),i.item.promise().done(function(){i.next.on("click touchstart touchend",c),i.prev.on("click touchstart touchend",h),i.viewport.on("touchend",function(l){if(void 0==l.originalEvent.touches){var a=l}else{var a=l.originalEvent.touches[0]||l.originalEvent.changedTouches[0]}C.dx=a.pageX-C.ox,C.dy=a.pageY-C.oy,C.endTime=(new Date).getTime()-C.startTime,"horizontal"==i.options.orientation?C.dx<-C.swipeTreshold&&C.endTime<C.allowedTime?i.current+i.options.visible_items<i.num_items&&c(l,i.viewport):C.dx>C.swipeTreshold&&C.endTime<C.allowedTime&&i.current>0&&h(l,i.viewport):C.dy<-C.swipeTreshold&&C.endTime<C.allowedTime?i.current+i.options.visible_items<i.num_items&&c(l,i.viewport):C.dy>C.swipeTreshold&&C.endTime<C.allowedTime&&i.current>0&&h(l,i.viewport)})}),i.current>0&&i.prev.show(),i.current+i.options.visible_items>=i.num_items&&i.next.hide();break;case"yes":var x=0,B=[];for(z=i.current;z<i.current+i.options.scrolling_items;z++){var k=z;z>=i.num_items&&(k=z-i.num_items),y+=i.item.eq(k).outerWidth(!0),B[x]=k,x++}for(i.current+=i.options.scrolling_items,i.current>=i.num_items&&(i.current-=i.num_items),o=i.current;o<i.current+i.options.visible_items;o++){var q=o;o>=i.num_items&&(q=o-i.num_items),n+=i.item.eq(q).outerWidth(!0)}i.viewport.animate({width:n},i.options.speed,i.options.easing),i.item.animate({left:"-="+y},i.options.speed,i.options.easing),i.item.promise().done(function(){var l=i.item.last().position(),a=l.left+i.item.last().outerWidth(!0);for(k5=0;k5<B.length;k5++){if(0==B[k5]){var l=i.item.last().position(),a=l.left+i.item.last().outerWidth(!0)}i.item.eq(B[k5]).css("left",a)}i.next.on("click touchstart touchend",c),i.prev.on("click touchstart touchend",h),i.viewport.on("touchend",function(p){if(void 0==p.originalEvent.touches){var m=p}else{var m=p.originalEvent.touches[0]||p.originalEvent.changedTouches[0]}C.dx=m.pageX-C.ox,C.dy=m.pageY-C.oy,C.endTime=(new Date).getTime()-C.startTime,"horizontal"==i.options.orientation?C.dx<-C.swipeTreshold&&C.endTime<C.allowedTime?c(p,i.viewport):C.dx>C.swipeTreshold&&C.endTime<C.allowedTime&&h(p,i.viewport):C.dy<-C.swipeTreshold&&C.endTime<C.allowedTime?c(p,i.viewport):C.dy>C.swipeTreshold&&C.endTime<C.allowedTime&&h(p,i.viewport)})})}break;case"vertical":var A=0,t=0;switch(i.options.circular){case"no":default:for(z=i.current;z<i.current+i.options.scrolling_items;z++){A+=i.item.eq(z).outerHeight(!0)}for(i.current+=i.options.scrolling_items,o=i.current;o<i.current+i.options.visible_items;o++){t+=i.item.eq(o).outerHeight(!0)}i.viewport.animate({height:t},i.options.speed,i.options.easing),i.item.animate({top:"-="+A},i.options.speed,i.options.easing),i.item.promise().done(function(){i.next.on("click touchstart touchend",c),i.prev.on("click touchstart touchend",h),i.viewport.on("touchend",function(l){if(void 0==l.originalEvent.touches){var a=l}else{var a=l.originalEvent.touches[0]||l.originalEvent.changedTouches[0]}C.dx=a.pageX-C.ox,C.dy=a.pageY-C.oy,C.endTime=(new Date).getTime()-C.startTime,"horizontal"==i.options.orientation?C.dx<-C.swipeTreshold&&C.endTime<C.allowedTime?i.current+i.options.visible_items<i.num_items&&c(l,i.viewport):C.dx>C.swipeTreshold&&C.endTime<C.allowedTime&&i.current>0&&h(l,i.viewport):C.dy<-C.swipeTreshold&&C.endTime<C.allowedTime?i.current+i.options.visible_items<i.num_items&&c(l,i.viewport):C.dy>C.swipeTreshold&&C.endTime<C.allowedTime&&i.current>0&&h(l,i.viewport)})}),i.current>0&&i.prev.show(),i.current+i.options.visible_items>=i.num_items&&i.next.hide();break;case"yes":var x=0,B=[];for(z=i.current;z<i.current+i.options.scrolling_items;z++){var k=z;z>=i.num_items&&(k=z-i.num_items),A+=i.item.eq(k).outerHeight(!0),B[x]=k,x++}for(i.current+=i.options.scrolling_items,i.current>=i.num_items&&(i.current-=i.num_items),o=i.current;o<i.current+i.options.visible_items;o++){var q=o;o>=i.num_items&&(q=o-i.num_items),t+=i.item.eq(q).outerHeight(!0)}i.viewport.animate({height:t}),i.item.animate({top:"-="+A}),i.item.promise().done(function(){var l=i.item.last().position(),a=l.top+i.item.last().outerHeight(!0);for(k5=0;k5<B.length;k5++){if(0==B[k5]){var l=i.item.last().position(),a=l.top+i.item.last().outerHeight(!0)}i.item.eq(B[k5]).css("top",a)}i.next.on("click touchstart touchend",c),i.prev.on("click touchstart touchend",h),i.viewport.on("touchend",function(p){if(void 0==p.originalEvent.touches){var m=p}else{var m=p.originalEvent.touches[0]||p.originalEvent.changedTouches[0]}C.dx=m.pageX-C.ox,C.dy=m.pageY-C.oy,C.endTime=(new Date).getTime()-C.startTime,"horizontal"==i.options.orientation?C.dx<-C.swipeTreshold&&C.endTime<C.allowedTime?c(p,i.viewport):C.dx>C.swipeTreshold&&C.endTime<C.allowedTime&&h(p,i.viewport):C.dy<-C.swipeTreshold&&C.endTime<C.allowedTime?c(p,i.viewport):C.dy>C.swipeTreshold&&C.endTime<C.allowedTime&&h(p,i.viewport)})})}}return j[w]=i,j},prev:function(H){H=d(H);var A=j[H],z=A.mm,K=0,D=0;switch(A.options.orientation){case"horizontal":default:var J=0,C=0;switch(A.options.circular){case"no":default:for(A.current-=A.options.scrolling_items,K=A.current;K<A.current+A.options.scrolling_items;K++){J+=A.item.eq(K).outerWidth(!0)}for(D=A.current;D<A.current+A.options.visible_items;D++){C+=A.item.eq(D).outerWidth(!0)}A.viewport.animate({width:C}),A.item.animate({left:"+="+J},A.options.speed,A.options.easing),A.item.promise().done(function(){A.next.on("click touchstart touchend",c),A.prev.on("click touchstart touchend",h),A.viewport.on("touchend",function(l){if(void 0==l.originalEvent.touches){var a=l}else{var a=l.originalEvent.touches[0]||l.originalEvent.changedTouches[0]}z.dx=a.pageX-z.ox,z.dy=a.pageY-z.oy,z.endTime=(new Date).getTime()-z.startTime,"horizontal"==A.options.orientation?z.dx<-z.swipeTreshold&&z.endTime<z.allowedTime?A.current+A.options.visible_items<A.num_items&&c(l,A.viewport):z.dx>z.swipeTreshold&&z.endTime<z.allowedTime&&A.current>0&&h(l,A.viewport):z.dy<-z.swipeTreshold&&z.endTime<z.allowedTime?A.current+A.options.visible_items<A.num_items&&c(l,A.viewport):z.dy>z.swipeTreshold&&z.endTime<z.allowedTime&&A.current>0&&h(l,A.viewport)})}),A.current<=0&&A.prev.hide(),A.current+A.options.visible_items<A.num_items&&A.next.show();break;case"yes":var I=0,t=[];for(A.current-=A.options.scrolling_items,A.current<0&&(A.current+=A.num_items),K=A.current;K<A.current+A.options.scrolling_items;K++){var B=K;K>=A.num_items&&(B=K-A.num_items),J+=A.item.eq(B).outerWidth(!0),t[I]=B,I++}for(D=A.current;D<A.current+A.options.visible_items;D++){var E=D;D>=A.num_items&&(E=D-A.num_items),C+=A.item.eq(E).outerWidth(!0)}var q=A.item.first().position(),G=q.left-A.wrapper_width;for(k5=0;k5<t.length;k5++){if(A.item.eq(t[k5]).css("left",G),0==t[k5]){var o=A.item.eq(0).position(),i=o.left-A.wrapper_width;for(k6=0;k5>k6;k6++){A.item.eq(t[k6]).css("left",i)}}}setTimeout(function(){A.viewport.animate({width:C}),A.item.animate({left:"+="+J},A.options.speed,A.options.easing),A.item.promise().done(function(){A.next.on("click touchstart touchend",c),A.prev.on("click touchstart touchend",h),A.viewport.on("touchend",function(l){if(void 0==l.originalEvent.touches){var a=l}else{var a=l.originalEvent.touches[0]||l.originalEvent.changedTouches[0]}z.dx=a.pageX-z.ox,z.dy=a.pageY-z.oy,z.endTime=(new Date).getTime()-z.startTime,"horizontal"==A.options.orientation?z.dx<-z.swipeTreshold&&z.endTime<z.allowedTime?c(l,A.viewport):z.dx>z.swipeTreshold&&z.endTime<z.allowedTime&&h(l,A.viewport):z.dy<-z.swipeTreshold&&z.endTime<z.allowedTime?c(l,A.viewport):z.dy>z.swipeTreshold&&z.endTime<z.allowedTime&&h(l,A.viewport)})})},200)}break;case"vertical":var F=0,L=0;switch(A.options.circular){case"no":default:for(A.current-=A.options.scrolling_items,K=A.current;K<A.current+A.options.scrolling_items;K++){F+=A.item.eq(K).outerHeight(!0)}for(D=A.current;D<A.current+A.options.visible_items;D++){L+=A.item.eq(D).outerHeight(!0)}A.viewport.animate({height:L}),A.item.animate({top:"+="+F},A.options.speed,A.options.easing),A.item.promise().done(function(){A.next.on("click touchstart touchend",c),A.prev.on("click touchstart touchend",h),A.viewport.on("touchend",function(l){if(void 0==l.originalEvent.touches){var a=l}else{var a=l.originalEvent.touches[0]||l.originalEvent.changedTouches[0]}z.dx=a.pageX-z.ox,z.dy=a.pageY-z.oy,z.endTime=(new Date).getTime()-z.startTime,"horizontal"==A.options.orientation?z.dx<-z.swipeTreshold&&z.endTime<z.allowedTime?A.current+A.options.visible_items<A.num_items&&c(l,A.viewport):z.dx>z.swipeTreshold&&z.endTime<z.allowedTime&&A.current>0&&h(l,A.viewport):z.dy<-z.swipeTreshold&&z.endTime<z.allowedTime?A.current+A.options.visible_items<A.num_items&&c(l,A.viewport):z.dy>z.swipeTreshold&&z.endTime<z.allowedTime&&A.current>0&&h(l,A.viewport)})}),A.current<=0&&A.prev.hide(),A.current+A.options.visible_items<A.num_items&&A.next.show();break;case"yes":var I=0,t=[];for(A.current-=A.options.scrolling_items,A.current<0&&(A.current+=A.num_items),K=A.current;K<A.current+A.options.scrolling_items;K++){var B=K;K>=A.num_items&&(B=K-A.num_items),F+=A.item.eq(B).outerHeight(!0),t[I]=B,I++}for(D=A.current;D<A.current+A.options.visible_items;D++){var E=D;D>=A.num_items&&(E=D-A.num_items),L+=A.item.eq(E).outerHeight(!0)}var q=A.item.first().position(),k=q.top-A.wrapper_height;for(k5=0;k5<t.length;k5++){if(A.item.eq(t[k5]).css("top",k),0==t[k5]){var o=A.item.eq(0).position(),n=o.top-A.wrapper_height;for(k6=0;k5>k6;k6++){A.item.eq(t[k6]).css("top",n)}}}setTimeout(function(){A.viewport.animate({height:L},A.options.speed,A.options.easing),A.item.animate({top:"+="+F},A.options.speed,A.options.easing),A.item.promise().done(function(){A.next.on("click touchstart touchend",c),A.prev.on("click touchstart touchend",h),A.viewport.on("touchend",function(l){if(void 0==l.originalEvent.touches){var a=l}else{var a=l.originalEvent.touches[0]||l.originalEvent.changedTouches[0]}z.dx=a.pageX-z.ox,z.dy=a.pageY-z.oy,z.endTime=(new Date).getTime()-z.startTime,"horizontal"==A.options.orientation?z.dx<-z.swipeTreshold&&z.endTime<z.allowedTime?c(l,A.viewport):z.dx>z.swipeTreshold&&z.endTime<z.allowedTime&&h(l,A.viewport):z.dy<-z.swipeTreshold&&z.endTime<z.allowedTime?c(l,A.viewport):z.dy>z.swipeTreshold&&z.endTime<z.allowedTime&&h(l,A.viewport)})})},200)}}return j[H]=A,j},start:function(a){a=d(a);var e=j[a];switch(0!=e.timer&&clearInterval(e.timer),e.options.direction){case"left":case"up":default:e.timer=setInterval(function(){e.next.off(),e.prev.off(),e.viewport.off("touchend"),g.fn.als("next",a)},e.options.interval);break;case"right":case"down":e.timer=setInterval(function(){e.prev.off(),e.next.off(),e.viewport.off("touchend"),g.fn.als("prev",a)},e.options.interval)}return j[a]=e,j},stop:function(k){k=d(k);var a=j[k];return clearInterval(a.timer),j[k]=a,j},destroy:function(){id=d(g(this).attr("data-id"));var a=j[id];a.prev.off(),a.next.off(),a.viewport.off(),g.fn.als("stop",id),g.removeData(a,"als"),this.unbind(),this.element=null}};g.fn.als=function(a){return b[a]?b[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void g.error("Method "+a+" does not exist on jQuery.als"):b.init.apply(this,arguments)}}(jQuery);